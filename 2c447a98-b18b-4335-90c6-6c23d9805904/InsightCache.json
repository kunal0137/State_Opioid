{"engineId":"fd5c8fbb-8f7b-4b71-901c-3e45c166bdab","engineName":"State_Opioid","rdbmsId":"2c447a98-b18b-4335-90c6-6c23d9805904","varstore":{},"frames":[{"file":"@BaseFolder@\\db\\@ENGINE@\\version\\2c447a98-b18b-4335-90c6-6c23d9805904\\FRAME598532.gz","meta":"@BaseFolder@\\db\\@ENGINE@\\version\\2c447a98-b18b-4335-90c6-6c23d9805904\\METADATA__FRAME598532.owl","state":"@BaseFolder@\\db\\@ENGINE@\\version\\2c447a98-b18b-4335-90c6-6c23d9805904\\FRAME_STATE__FRAME598532.json","type":"prerna.ds.h2.H2Frame","name":"FRAME598532","keys":["$CUR_FRAME_KEY","FRAME598532"]}],"panels":[{"panelId":"0","panelLabel":"State Population","view":"visualization","viewOptions":"{\"type\":\"echarts\"}","viewOptionsMap":"{\"federate-view\":{\"app_id\":\"fd5c8fbb-8f7b-4b71-901c-3e45c166bdab\"},\"visualization\":{\"type\":\"echarts\"}}","ornaments":"{}","events":"{\"onSingleClick\":{\"Unfilter\":[{\"disabledVisuals\":[\"Grid\",\"Sunburst\"],\"default\":true,\"query\":\"UnfilterFrame(<SelectedColumn>);\",\"options\":{},\"refresh\":false,\"disabled\":false,\"panel\":\"\"}]},\"onBrush\":{\"Filter\":[{\"default\":true,\"query\":\"if(IsEmpty(<SelectedValues>), UnfilterFrame(<SelectedColumn>), SetFrameFilter(<SelectedColumn>==<SelectedValues>));\",\"options\":{},\"refresh\":false,\"disabled\":false,\"panel\":\"\"}]}}","comments":"{}","position":"{}","filters":[],"order":[],"cbv":{}},{"panelId":"1","panelLabel":"Year Filter","view":"DashboardFilter","viewOptions":null,"viewOptionsMap":"{\"federate-view\":{\"app_id\":\"fd5c8fbb-8f7b-4b71-901c-3e45c166bdab\"},\"visualization\":{\"type\":\"echarts\"}}","ornaments":"{\"dashboardFilter\":{\"instances\":[\"YEAR\"],\"viewType\":\"List\",\"singleSelect\":\"Multi Select\"}}","events":"{\"onSingleClick\":{\"Unfilter\":[{\"disabledVisuals\":[\"Grid\",\"Sunburst\"],\"default\":true,\"query\":\"UnfilterFrame(<SelectedColumn>);\",\"options\":{},\"refresh\":false,\"disabled\":false,\"panel\":\"\"}]},\"onBrush\":{\"Filter\":[{\"default\":true,\"query\":\"if(IsEmpty(<SelectedValues>), UnfilterFrame(<SelectedColumn>), SetFrameFilter(<SelectedColumn>==<SelectedValues>));\",\"options\":{},\"refresh\":false,\"disabled\":false,\"panel\":\"\"}]}}","comments":"{}","position":"{}","filters":[],"order":[],"cbv":{}}],"tasks":{"tasks":[{"type":"basic","task":{"taskType":"basic","id":"task1","numCollected":500,"internalOffset":0,"taskOptions":"{\"options\":{\"0\":{\"layout\":\"Grid\",\"alignment\":{\"label\":[\"AMAT_fac\",\"CDC_consult\",\"CURES_funds\",\"DHAP_funds\",\"DVH_funds\",\"HCVacute\",\"HCVacuterate\",\"HCVcases\",\"HCVprevalence\",\"HIVdiagnoses\",\"HIVincidence\",\"HIVprevalence\",\"HOPWA_funds\",\"MH_fac\",\"Med_AMAT_fac\",\"Med_MH_fac\",\"Med_SA_fac\",\"Med_SMAT_fac\",\"Med_TMAT_fac\",\"PDMP_check_req\",\"PLHIV\",\"Population\",\"RW_funds\",\"SA_fac\",\"SMAT_fac\",\"SSP_legality\",\"STATEABBREVIATION\",\"STATEDATAPIVOTED\",\"STATE_1\",\"TMAT_fac\",\"YEAR\",\"bup_phys\",\"drugdeathrate\",\"drugdeaths\",\"drugdep\",\"fentanyl_seize\",\"mme_percap\",\"nonmedpain\",\"num_SSPs\",\"op_rel_inpat\",\"partD30dayrxrate\",\"pct_tx_med\",\"pctunins\",\"pctunmetneed\",\"state_year\"]}}}}","qs":{"qsType":"FRAME","isDistinct":true,"overrideImplicit":false,"limit":0,"offset":0,"relations":"[]","selectors":["COLUMN",{"table":"FRAME598532","column":"AMAT_fac","alias":"AMAT_fac","tableAlias":null},"COLUMN",{"table":"FRAME598532","column":"CDC_consult","alias":"CDC_consult","tableAlias":null},"COLUMN",{"table":"FRAME598532","column":"CURES_funds","alias":"CURES_funds","tableAlias":null},"COLUMN",{"table":"FRAME598532","column":"DHAP_funds","alias":"DHAP_funds","tableAlias":null},"COLUMN",{"table":"FRAME598532","column":"DVH_funds","alias":"DVH_funds","tableAlias":null},"COLUMN",{"table":"FRAME598532","column":"HCVacute","alias":"HCVacute","tableAlias":null},"COLUMN",{"table":"FRAME598532","column":"HCVacuterate","alias":"HCVacuterate","tableAlias":null},"COLUMN",{"table":"FRAME598532","column":"HCVcases","alias":"HCVcases","tableAlias":null},"COLUMN",{"table":"FRAME598532","column":"HCVprevalence","alias":"HCVprevalence","tableAlias":null},"COLUMN",{"table":"FRAME598532","column":"HIVdiagnoses","alias":"HIVdiagnoses","tableAlias":null},"COLUMN",{"table":"FRAME598532","column":"HIVincidence","alias":"HIVincidence","tableAlias":null},"COLUMN",{"table":"FRAME598532","column":"HIVprevalence","alias":"HIVprevalence","tableAlias":null},"COLUMN",{"table":"FRAME598532","column":"HOPWA_funds","alias":"HOPWA_funds","tableAlias":null},"COLUMN",{"table":"FRAME598532","column":"MH_fac","alias":"MH_fac","tableAlias":null},"COLUMN",{"table":"FRAME598532","column":"Med_AMAT_fac","alias":"Med_AMAT_fac","tableAlias":null},"COLUMN",{"table":"FRAME598532","column":"Med_MH_fac","alias":"Med_MH_fac","tableAlias":null},"COLUMN",{"table":"FRAME598532","column":"Med_SA_fac","alias":"Med_SA_fac","tableAlias":null},"COLUMN",{"table":"FRAME598532","column":"Med_SMAT_fac","alias":"Med_SMAT_fac","tableAlias":null},"COLUMN",{"table":"FRAME598532","column":"Med_TMAT_fac","alias":"Med_TMAT_fac","tableAlias":null},"COLUMN",{"table":"FRAME598532","column":"PDMP_check_req","alias":"PDMP_check_req","tableAlias":null},"COLUMN",{"table":"FRAME598532","column":"PLHIV","alias":"PLHIV","tableAlias":null},"COLUMN",{"table":"FRAME598532","column":"Population","alias":"Population","tableAlias":null},"COLUMN",{"table":"FRAME598532","column":"RW_funds","alias":"RW_funds","tableAlias":null},"COLUMN",{"table":"FRAME598532","column":"SA_fac","alias":"SA_fac","tableAlias":null},"COLUMN",{"table":"FRAME598532","column":"SMAT_fac","alias":"SMAT_fac","tableAlias":null},"COLUMN",{"table":"FRAME598532","column":"SSP_legality","alias":"SSP_legality","tableAlias":null},"COLUMN",{"table":"FRAME598532","column":"STATEABBREVIATION","alias":"STATEABBREVIATION","tableAlias":null},"COLUMN",{"table":"FRAME598532","column":"STATEDATAPIVOTED","alias":"STATEDATAPIVOTED","tableAlias":null},"COLUMN",{"table":"FRAME598532","column":"STATE_1","alias":"STATE_1","tableAlias":null},"COLUMN",{"table":"FRAME598532","column":"TMAT_fac","alias":"TMAT_fac","tableAlias":null},"COLUMN",{"table":"FRAME598532","column":"YEAR","alias":"YEAR","tableAlias":null},"COLUMN",{"table":"FRAME598532","column":"bup_phys","alias":"bup_phys","tableAlias":null},"COLUMN",{"table":"FRAME598532","column":"drugdeathrate","alias":"drugdeathrate","tableAlias":null},"COLUMN",{"table":"FRAME598532","column":"drugdeaths","alias":"drugdeaths","tableAlias":null},"COLUMN",{"table":"FRAME598532","column":"drugdep","alias":"drugdep","tableAlias":null},"COLUMN",{"table":"FRAME598532","column":"fentanyl_seize","alias":"fentanyl_seize","tableAlias":null},"COLUMN",{"table":"FRAME598532","column":"mme_percap","alias":"mme_percap","tableAlias":null},"COLUMN",{"table":"FRAME598532","column":"nonmedpain","alias":"nonmedpain","tableAlias":null},"COLUMN",{"table":"FRAME598532","column":"num_SSPs","alias":"num_SSPs","tableAlias":null},"COLUMN",{"table":"FRAME598532","column":"op_rel_inpat","alias":"op_rel_inpat","tableAlias":null},"COLUMN",{"table":"FRAME598532","column":"partD30dayrxrate","alias":"partD30dayrxrate","tableAlias":null},"COLUMN",{"table":"FRAME598532","column":"pct_tx_med","alias":"pct_tx_med","tableAlias":null},"COLUMN",{"table":"FRAME598532","column":"pctunins","alias":"pctunins","tableAlias":null},"COLUMN",{"table":"FRAME598532","column":"pctunmetneed","alias":"pctunmetneed","tableAlias":null},"COLUMN",{"table":"FRAME598532","column":"state_year","alias":"state_year","tableAlias":null}],"implicitFilters":["SIMPLE",{"left":{"pixelType":"COLUMN","class":"prerna.query.querystruct.selectors.QueryColumnSelector","value":["COLUMN",{"table":"Population","column":"PRIM_KEY_PLACEHOLDER","alias":"Population","tableAlias":null}],"opType":["OPERATION"]},"comparator":"!=","right":{"pixelType":"NULL_VALUE","class":null,"value":[null],"opType":["OPERATION"]}}]}}},{"type":"basic","task":{"taskType":"basic","id":"task3","numCollected":500,"internalOffset":0,"taskOptions":"{\"options\":{\"0\":{\"layout\":\"Choropleth\",\"alignment\":{\"label\":[\"STATEABBREVIATION\"],\"value\":[\"Averageofdrugdeathrate\"],\"facet\":[]}}}}","qs":{"qsType":"FRAME","isDistinct":true,"overrideImplicit":false,"limit":0,"offset":0,"relations":"[]","groups":["{\"column\":\"PRIM_KEY_PLACEHOLDER\",\"table\":\"STATEABBREVIATION\",\"alias\":\"\"}"],"selectors":["COLUMN",{"table":"STATEABBREVIATION","column":"PRIM_KEY_PLACEHOLDER","alias":"STATEABBREVIATION","tableAlias":null},"FUNCTION",{"alias":"Averageofdrugdeathrate","function":"mean","distinct":false,"colCast":"","innerSelectors":["COLUMN",{"table":"drugdeathrate","column":"PRIM_KEY_PLACEHOLDER","alias":"drugdeathrate","tableAlias":null}]}]}}},{"type":"basic","task":{"taskType":"basic","id":"task5","numCollected":500,"internalOffset":0,"taskOptions":"{\"options\":{\"0\":{\"layout\":\"Choropleth\",\"alignment\":{\"label\":[\"STATEABBREVIATION\"],\"value\":[\"AverageofPopulation\"],\"facet\":[]}}}}","qs":{"qsType":"FRAME","isDistinct":true,"overrideImplicit":false,"limit":0,"offset":0,"relations":"[]","groups":["{\"column\":\"PRIM_KEY_PLACEHOLDER\",\"table\":\"STATEABBREVIATION\",\"alias\":\"\"}"],"selectors":["COLUMN",{"table":"STATEABBREVIATION","column":"PRIM_KEY_PLACEHOLDER","alias":"STATEABBREVIATION","tableAlias":null},"FUNCTION",{"alias":"AverageofPopulation","function":"mean","distinct":false,"colCast":"","innerSelectors":["COLUMN",{"table":"Population","column":"PRIM_KEY_PLACEHOLDER","alias":"Population","tableAlias":null}]}]}}},{"type":"basic","task":{"taskType":"basic","id":"task7","numCollected":500,"internalOffset":0,"taskOptions":"{\"options\":{\"0\":{\"layout\":\"Choropleth\",\"alignment\":{\"label\":[\"STATEABBREVIATION\"],\"value\":[\"AverageofPopulation\"]}}}}","qs":{"qsType":"FRAME","isDistinct":true,"overrideImplicit":false,"limit":0,"offset":0,"relations":"[]","groups":["{\"column\":\"PRIM_KEY_PLACEHOLDER\",\"table\":\"STATEABBREVIATION\",\"alias\":\"\"}"],"selectors":["COLUMN",{"table":"STATEABBREVIATION","column":"PRIM_KEY_PLACEHOLDER","alias":"STATEABBREVIATION","tableAlias":null},"FUNCTION",{"alias":"AverageofPopulation","function":"mean","distinct":false,"colCast":"","innerSelectors":["COLUMN",{"table":"Population","column":"PRIM_KEY_PLACEHOLDER","alias":"Population","tableAlias":null}]}],"implicitFilters":["SIMPLE",{"left":{"pixelType":"COLUMN","class":"prerna.query.querystruct.selectors.QueryColumnSelector","value":["COLUMN",{"table":"Population","column":"PRIM_KEY_PLACEHOLDER","alias":"Population","tableAlias":null}],"opType":["OPERATION"]},"comparator":"!=","right":{"pixelType":"NULL_VALUE","class":null,"value":[null],"opType":["OPERATION"]}}]}}}],"taskCounter":8},"recipe":["AddPanel ( 0 ) ;","Panel ( 0 ) | AddPanelEvents ( { \"onSingleClick\" : { \"Unfilter\" : [ { \"panel\" : \"\" , \"query\" : \"UnfilterFrame(%3CSelectedColumn%3E)%3B\" , \"options\" : { } , \"refresh\" : false , \"default\" : true , \"disabledVisuals\" : [ \"Grid\" , \"Sunburst\" ] , \"disabled\" : false } ] } , \"onBrush\" : { \"Filter\" : [ { \"panel\" : \"\" , \"query\" : \"if(IsEmpty(%3CSelectedValues%3E)%2C%20UnfilterFrame(%3CSelectedColumn%3E)%2C%20SetFrameFilter(%3CSelectedColumn%3E%3D%3D%3CSelectedValues%3E))%3B\" , \"options\" : { } , \"refresh\" : false , \"default\" : true , \"disabled\" : false } ] } } ) ;","Panel ( 0 ) | RetrievePanelEvents ( ) ;","Panel ( 0 ) | SetPanelView ( \"visualization\" , \"%7B%22type%22%3A%22echarts%22%7D\" ) ;","Panel ( 0 ) | SetPanelView ( \"federate-view\" , \"%7B%22app_id%22%3A%22fd5c8fbb-8f7b-4b71-901c-3e45c166bdab%22%7D\" ) ;","CreateFrame ( frameType = [ GRID ] ) .as ( [ 'FRAME598532' ] ) ;","Database ( database = [ \"fd5c8fbb-8f7b-4b71-901c-3e45c166bdab\" ] ) | Select ( STATEDATAPIVOTED , STATEDATAPIVOTED__AMAT_fac , STATEDATAPIVOTED__CDC_consult , STATEDATAPIVOTED__CURES_funds , STATEDATAPIVOTED__DHAP_funds , STATEDATAPIVOTED__DVH_funds , STATEDATAPIVOTED__HCVacute , STATEDATAPIVOTED__HCVacuterate , STATEDATAPIVOTED__HCVcases , STATEDATAPIVOTED__HCVprevalence , STATEDATAPIVOTED__HIVdiagnoses , STATEDATAPIVOTED__HIVincidence , STATEDATAPIVOTED__HIVprevalence , STATEDATAPIVOTED__HOPWA_funds , STATEDATAPIVOTED__MH_fac , STATEDATAPIVOTED__Med_AMAT_fac , STATEDATAPIVOTED__Med_MH_fac , STATEDATAPIVOTED__Med_SA_fac , STATEDATAPIVOTED__Med_SMAT_fac , STATEDATAPIVOTED__Med_TMAT_fac , STATEDATAPIVOTED__PDMP_check_req , STATEDATAPIVOTED__PLHIV , STATEDATAPIVOTED__Population , STATEDATAPIVOTED__RW_funds , STATEDATAPIVOTED__SA_fac , STATEDATAPIVOTED__SMAT_fac , STATEDATAPIVOTED__SSP_legality , STATEDATAPIVOTED__STATEABBREVIATION , STATEDATAPIVOTED__STATE_1 , STATEDATAPIVOTED__TMAT_fac , STATEDATAPIVOTED__YEAR , STATEDATAPIVOTED__bup_phys , STATEDATAPIVOTED__drugdeathrate , STATEDATAPIVOTED__drugdeaths , STATEDATAPIVOTED__drugdep , STATEDATAPIVOTED__fentanyl_seize , STATEDATAPIVOTED__mme_percap , STATEDATAPIVOTED__nonmedpain , STATEDATAPIVOTED__num_SSPs , STATEDATAPIVOTED__op_rel_inpat , STATEDATAPIVOTED__partD30dayrxrate , STATEDATAPIVOTED__pct_tx_med , STATEDATAPIVOTED__pctunins , STATEDATAPIVOTED__pctunmetneed , STATEDATAPIVOTED__state_year ) .as ( [ STATEDATAPIVOTED , AMAT_fac , CDC_consult , CURES_funds , DHAP_funds , DVH_funds , HCVacute , HCVacuterate , HCVcases , HCVprevalence , HIVdiagnoses , HIVincidence , HIVprevalence , HOPWA_funds , MH_fac , Med_AMAT_fac , Med_MH_fac , Med_SA_fac , Med_SMAT_fac , Med_TMAT_fac , PDMP_check_req , PLHIV , Population , RW_funds , SA_fac , SMAT_fac , SSP_legality , STATEABBREVIATION , STATE_1 , TMAT_fac , YEAR , bup_phys , drugdeathrate , drugdeaths , drugdep , fentanyl_seize , mme_percap , nonmedpain , num_SSPs , op_rel_inpat , partD30dayrxrate , pct_tx_med , pctunins , pctunmetneed , state_year ] ) | Import ( ) ;","Panel ( 0 ) | SetPanelView ( \"visualization\" ) ;","Frame ( ) | QueryAll ( ) | AutoTaskOptions ( panel = [ \"0\" ] , layout = [ \"Grid\" ] ) | Collect ( 500 ) ;","Panel ( 0 ) | SetPanelView ( \"visualization\" , \"%7B%22type%22%3A%22echarts%22%7D\" ) ;","if ( ( HasDuplicates ( STATEABBREVIATION ) ) , ( Select ( STATEABBREVIATION , Average ( drugdeathrate ) ) .as ( [ STATEABBREVIATION , Averageofdrugdeathrate ] ) | Group ( STATEABBREVIATION ) | With ( Panel ( 0 ) ) | Format ( type = [ 'table' ] ) | TaskOptions ( { \"0\" : { \"layout\" : \"Choropleth\" , \"alignment\" : { \"label\" : [ \"STATEABBREVIATION\" ] , \"value\" : [ \"Averageofdrugdeathrate\" ] , \"facet\" : [ ] } } } ) | Collect ( 500 ) ) , ( Select ( STATEABBREVIATION , drugdeathrate ) .as ( [ STATEABBREVIATION , drugdeathrate ] ) | With ( Panel ( 0 ) ) | Format ( type = [ 'table' ] ) | TaskOptions ( { \"0\" : { \"layout\" : \"Choropleth\" , \"alignment\" : { \"label\" : [ \"STATEABBREVIATION\" ] , \"value\" : [ \"drugdeathrate\" ] , \"facet\" : [ ] } } } ) | Collect ( 500 ) ) ) ;","Panel ( 0 ) | Clone ( 1 ) ;","Panel ( 1 ) | SetPanelView ( \"DashboardFilter\" ) ;","Panel ( 1 ) | AddPanelOrnaments ( { \"dashboardFilter\" : { \"singleSelect\" : \"Multi Select\" , \"viewType\" : \"List\" , \"instances\" : [ \"YEAR\" ] } } ) | RetrievePanelOrnaments ( \"dashboardFilter\" ) ;","Panel ( 1 ) | SetPanelLabel ( \"Year Filter\" ) ;","Panel ( 0 ) | SetPanelLabel ( \"Drug Death Rate per 100K Population\" ) ;","if ( ( HasDuplicates ( STATEABBREVIATION ) ) , ( Select ( STATEABBREVIATION , Average ( Population ) ) .as ( [ STATEABBREVIATION , AverageofPopulation ] ) | Group ( STATEABBREVIATION ) | With ( Panel ( 0 ) ) | Format ( type = [ 'table' ] ) | TaskOptions ( { \"0\" : { \"layout\" : \"Choropleth\" , \"alignment\" : { \"label\" : [ \"STATEABBREVIATION\" ] , \"value\" : [ \"AverageofPopulation\" ] , \"facet\" : [ ] } } } ) | Collect ( 500 ) ) , ( Select ( STATEABBREVIATION , Population ) .as ( [ STATEABBREVIATION , Population ] ) | With ( Panel ( 0 ) ) | Format ( type = [ 'table' ] ) | TaskOptions ( { \"0\" : { \"layout\" : \"Choropleth\" , \"alignment\" : { \"label\" : [ \"STATEABBREVIATION\" ] , \"value\" : [ \"Population\" ] , \"facet\" : [ ] } } } ) | Collect ( 500 ) ) ) ;","Panel ( 0 ) | SetPanelLabel ( \"State Population\" ) ;","ReplaceFrameFilter ( ( Population != [ null ] ) ) ;","ifError ( ( Frame ( ) | Select ( STATEABBREVIATION , Average ( Population ) ) .as ( [ STATEABBREVIATION , AverageofPopulation ] ) | Group ( STATEABBREVIATION ) | With ( Panel ( 0 ) ) | Format ( type = [ 'table' ] ) | TaskOptions ( { \"0\" : { \"layout\" : \"Choropleth\" , \"alignment\" : { \"label\" : [ \"STATEABBREVIATION\" ] , \"value\" : [ \"AverageofPopulation\" ] } } } ) | Collect ( 500 ) ) , ( true ) ) ;"]}