{"engineId":"fd5c8fbb-8f7b-4b71-901c-3e45c166bdab","engineName":"State_Opioid","rdbmsId":"14e3bfa0-c0dd-47d6-961d-bc9564db3ff6","varstore":{},"frames":[{"file":"@BaseFolder@/db/@ENGINE@/version/14e3bfa0-c0dd-47d6-961d-bc9564db3ff6/FRAME592747.gz","meta":"@BaseFolder@/db/@ENGINE@/version/14e3bfa0-c0dd-47d6-961d-bc9564db3ff6/METADATA__FRAME592747.owl","state":"@BaseFolder@/db/@ENGINE@/version/14e3bfa0-c0dd-47d6-961d-bc9564db3ff6/FRAME_STATE__FRAME592747.json","type":"prerna.ds.h2.H2Frame","name":"FRAME592747","keys":["$CUR_FRAME_KEY","FRAME592747"]}],"panels":[{"panelId":"0","panelLabel":"State Drug Death Rate per 100K Population vs National Average","view":"visualization","viewOptions":"{\"type\":\"echarts\"}","viewOptionsMap":"{\"federate-view\":{\"app_id\":\"NEWSEMOSSAPP\"},\"visualization\":{\"type\":\"echarts\"}}","ornaments":"{}","events":"{\"onSingleClick\":{\"Unfilter\":[{\"disabledVisuals\":[\"Grid\",\"Sunburst\"],\"default\":true,\"query\":\"UnfilterFrame(<SelectedColumn>);\",\"options\":{},\"refresh\":false,\"disabled\":false,\"panel\":\"\"}]},\"onBrush\":{\"Filter\":[{\"default\":true,\"query\":\"if(IsEmpty(<SelectedValues>), UnfilterFrame(<SelectedColumn>), SetFrameFilter(<SelectedColumn>==<SelectedValues>));\",\"options\":{},\"refresh\":false,\"disabled\":false,\"panel\":\"\"}]}}","comments":"{}","position":"{}","filters":[],"order":[],"cbv":{}},{"panelId":"1","panelLabel":"Year Filter","view":"DashboardFilter","viewOptions":null,"viewOptionsMap":"{\"federate-view\":{\"app_id\":\"NEWSEMOSSAPP\"},\"visualization\":{\"type\":\"echarts\"}}","ornaments":"{\"dashboardFilter\":{\"instances\":[\"YEAR\"],\"viewType\":\"List\",\"singleSelect\":\"Multi Select\"}}","events":"{\"onSingleClick\":{\"Unfilter\":[{\"disabledVisuals\":[\"Grid\",\"Sunburst\"],\"default\":true,\"query\":\"UnfilterFrame(<SelectedColumn>);\",\"options\":{},\"refresh\":false,\"disabled\":false,\"panel\":\"\"}]},\"onBrush\":{\"Filter\":[{\"default\":true,\"query\":\"if(IsEmpty(<SelectedValues>), UnfilterFrame(<SelectedColumn>), SetFrameFilter(<SelectedColumn>==<SelectedValues>));\",\"options\":{},\"refresh\":false,\"disabled\":false,\"panel\":\"\"}]}}","comments":"{}","position":"{}","filters":[],"order":[],"cbv":{}}],"tasks":{"tasks":[{"type":"basic","task":{"taskType":"basic","id":"task1","numCollected":500,"internalOffset":0,"taskOptions":"{\"options\":{\"0\":{\"layout\":\"Grid\",\"alignment\":{\"label\":[\"STATEABBREVIATION\",\"STATEDATAPIVOTED\",\"STATE_1\",\"YEAR\",\"drugdeathrate\"]}}}}","qs":{"qsType":"FRAME","isDistinct":true,"overrideImplicit":false,"limit":0,"offset":0,"relations":"[]","selectors":["COLUMN",{"table":"FRAME592747","column":"STATEABBREVIATION","alias":"STATEABBREVIATION","tableAlias":null},"COLUMN",{"table":"FRAME592747","column":"STATEDATAPIVOTED","alias":"STATEDATAPIVOTED","tableAlias":null},"COLUMN",{"table":"FRAME592747","column":"STATE_1","alias":"STATE_1","tableAlias":null},"COLUMN",{"table":"FRAME592747","column":"YEAR","alias":"YEAR","tableAlias":null},"COLUMN",{"table":"FRAME592747","column":"drugdeathrate","alias":"drugdeathrate","tableAlias":null}],"implicitFilters":["SIMPLE",{"left":{"pixelType":"COLUMN","class":"prerna.query.querystruct.selectors.QueryColumnSelector","value":["COLUMN",{"table":"drugdeathrate","column":"PRIM_KEY_PLACEHOLDER","alias":"drugdeathrate","tableAlias":null}],"opType":["OPERATION"]},"comparator":"!=","right":{"pixelType":"NULL_VALUE","class":null,"value":[null],"opType":["OPERATION"]}}]}}},{"type":"basic","task":{"taskType":"basic","id":"task3","numCollected":500,"internalOffset":0,"taskOptions":"{\"options\":{\"0\":{\"layout\":\"Grid\",\"alignment\":{\"label\":[\"STATEABBREVIATION\",\"STATEDATAPIVOTED\",\"STATE_1\",\"YEAR\",\"drugdeathrate\",\"national_drugdeathrate\"]}}}}","qs":{"qsType":"FRAME","isDistinct":true,"overrideImplicit":false,"limit":0,"offset":0,"relations":"[]","selectors":["COLUMN",{"table":"FRAME592747","column":"STATEABBREVIATION","alias":"STATEABBREVIATION","tableAlias":null},"COLUMN",{"table":"FRAME592747","column":"STATEDATAPIVOTED","alias":"STATEDATAPIVOTED","tableAlias":null},"COLUMN",{"table":"FRAME592747","column":"STATE_1","alias":"STATE_1","tableAlias":null},"COLUMN",{"table":"FRAME592747","column":"YEAR","alias":"YEAR","tableAlias":null},"COLUMN",{"table":"FRAME592747","column":"drugdeathrate","alias":"drugdeathrate","tableAlias":null},"COLUMN",{"table":"FRAME592747","column":"national_drugdeathrate","alias":"national_drugdeathrate","tableAlias":null}],"implicitFilters":["SIMPLE",{"left":{"pixelType":"COLUMN","class":"prerna.query.querystruct.selectors.QueryColumnSelector","value":["COLUMN",{"table":"drugdeathrate","column":"PRIM_KEY_PLACEHOLDER","alias":"drugdeathrate","tableAlias":null}],"opType":["OPERATION"]},"comparator":"!=","right":{"pixelType":"NULL_VALUE","class":null,"value":[null],"opType":["OPERATION"]}}]}}},{"type":"basic","task":{"taskType":"basic","id":"task5","numCollected":500,"internalOffset":0,"taskOptions":"{\"options\":{\"0\":{\"layout\":\"Line\",\"alignment\":{\"tooltip\":[],\"label\":[\"STATEABBREVIATION\"],\"value\":[\"Averageofdrugdeathrate\"],\"facet\":[]}}}}","qs":{"qsType":"FRAME","isDistinct":true,"overrideImplicit":false,"limit":0,"offset":0,"relations":"[]","groups":["{\"column\":\"PRIM_KEY_PLACEHOLDER\",\"table\":\"STATEABBREVIATION\",\"alias\":\"\"}"],"selectors":["COLUMN",{"table":"STATEABBREVIATION","column":"PRIM_KEY_PLACEHOLDER","alias":"STATEABBREVIATION","tableAlias":null},"FUNCTION",{"alias":"Averageofdrugdeathrate","function":"mean","distinct":false,"colCast":"","innerSelectors":["COLUMN",{"table":"drugdeathrate","column":"PRIM_KEY_PLACEHOLDER","alias":"drugdeathrate","tableAlias":null}]}]}}},{"type":"basic","task":{"taskType":"basic","id":"task7","numCollected":500,"internalOffset":0,"taskOptions":"{\"options\":{\"0\":{\"layout\":\"Line\",\"alignment\":{\"tooltip\":[],\"label\":[\"STATEABBREVIATION\"],\"value\":[\"Averageofdrugdeathrate\",\"Averageofnational_drugdeathrate\"],\"facet\":[]}}}}","qs":{"qsType":"FRAME","isDistinct":true,"overrideImplicit":false,"limit":0,"offset":0,"relations":"[]","groups":["{\"column\":\"PRIM_KEY_PLACEHOLDER\",\"table\":\"STATEABBREVIATION\",\"alias\":\"\"}"],"selectors":["COLUMN",{"table":"STATEABBREVIATION","column":"PRIM_KEY_PLACEHOLDER","alias":"STATEABBREVIATION","tableAlias":null},"FUNCTION",{"alias":"Averageofdrugdeathrate","function":"mean","distinct":false,"colCast":"","innerSelectors":["COLUMN",{"table":"drugdeathrate","column":"PRIM_KEY_PLACEHOLDER","alias":"drugdeathrate","tableAlias":null}]},"FUNCTION",{"alias":"Averageofnational_drugdeathrate","function":"mean","distinct":false,"colCast":"","innerSelectors":["COLUMN",{"table":"national_drugdeathrate","column":"PRIM_KEY_PLACEHOLDER","alias":"national_drugdeathrate","tableAlias":null}]}]}}},{"type":"basic","task":{"taskType":"basic","id":"task9","numCollected":500,"internalOffset":0,"taskOptions":"{\"options\":{\"0\":{\"layout\":\"Line\",\"alignment\":{\"label\":[\"STATEABBREVIATION\"],\"value\":[\"Averageofdrugdeathrate\",\"Averageofnational_drugdeathrate\"]}}}}","qs":{"qsType":"FRAME","isDistinct":true,"overrideImplicit":false,"limit":0,"offset":0,"relations":"[]","groups":["{\"column\":\"PRIM_KEY_PLACEHOLDER\",\"table\":\"STATEABBREVIATION\",\"alias\":\"\"}"],"orders":["{\"sortDir\":\"DESC\",\"column\":\"PRIM_KEY_PLACEHOLDER\",\"table\":\"Averageofdrugdeathrate\",\"alias\":\"\"}"],"selectors":["COLUMN",{"table":"STATEABBREVIATION","column":"PRIM_KEY_PLACEHOLDER","alias":"STATEABBREVIATION","tableAlias":null},"FUNCTION",{"alias":"Averageofdrugdeathrate","function":"mean","distinct":false,"colCast":"","innerSelectors":["COLUMN",{"table":"drugdeathrate","column":"PRIM_KEY_PLACEHOLDER","alias":"drugdeathrate","tableAlias":null}]},"FUNCTION",{"alias":"Averageofnational_drugdeathrate","function":"mean","distinct":false,"colCast":"","innerSelectors":["COLUMN",{"table":"national_drugdeathrate","column":"PRIM_KEY_PLACEHOLDER","alias":"national_drugdeathrate","tableAlias":null}]}]}}},{"type":"basic","task":{"taskType":"basic","id":"task11","numCollected":500,"internalOffset":0,"taskOptions":"{\"options\":{\"0\":{\"layout\":\"Line\",\"alignment\":{\"label\":[\"STATEABBREVIATION\"],\"value\":[\"Averageofdrugdeathrate\",\"Averageofnational_drugdeathrate\"]}}}}","qs":{"qsType":"FRAME","isDistinct":true,"overrideImplicit":false,"limit":0,"offset":0,"relations":"[]","groups":["{\"column\":\"PRIM_KEY_PLACEHOLDER\",\"table\":\"STATEABBREVIATION\",\"alias\":\"\"}"],"orders":["{\"sortDir\":\"DESC\",\"column\":\"PRIM_KEY_PLACEHOLDER\",\"table\":\"Averageofdrugdeathrate\",\"alias\":\"\"}"],"selectors":["COLUMN",{"table":"STATEABBREVIATION","column":"PRIM_KEY_PLACEHOLDER","alias":"STATEABBREVIATION","tableAlias":null},"FUNCTION",{"alias":"Averageofdrugdeathrate","function":"mean","distinct":false,"colCast":"","innerSelectors":["COLUMN",{"table":"drugdeathrate","column":"PRIM_KEY_PLACEHOLDER","alias":"drugdeathrate","tableAlias":null}]},"FUNCTION",{"alias":"Averageofnational_drugdeathrate","function":"mean","distinct":false,"colCast":"","innerSelectors":["COLUMN",{"table":"national_drugdeathrate","column":"PRIM_KEY_PLACEHOLDER","alias":"national_drugdeathrate","tableAlias":null}]}],"implicitFilters":["SIMPLE",{"left":{"pixelType":"COLUMN","class":"prerna.query.querystruct.selectors.QueryColumnSelector","value":["COLUMN",{"table":"drugdeathrate","column":"PRIM_KEY_PLACEHOLDER","alias":"drugdeathrate","tableAlias":null}],"opType":["OPERATION"]},"comparator":"!=","right":{"pixelType":"NULL_VALUE","class":null,"value":[null],"opType":["OPERATION"]}}]}}}],"taskCounter":12},"recipe":["AddPanel ( 0 ) ;","Panel ( 0 ) | AddPanelEvents ( { \"onSingleClick\" : { \"Unfilter\" : [ { \"panel\" : \"\" , \"query\" : \"UnfilterFrame(%3CSelectedColumn%3E)%3B\" , \"options\" : { } , \"refresh\" : false , \"default\" : true , \"disabledVisuals\" : [ \"Grid\" , \"Sunburst\" ] , \"disabled\" : false } ] } , \"onBrush\" : { \"Filter\" : [ { \"panel\" : \"\" , \"query\" : \"if(IsEmpty(%3CSelectedValues%3E)%2C%20UnfilterFrame(%3CSelectedColumn%3E)%2C%20SetFrameFilter(%3CSelectedColumn%3E%3D%3D%3CSelectedValues%3E))%3B\" , \"options\" : { } , \"refresh\" : false , \"default\" : true , \"disabled\" : false } ] } } ) ;","Panel ( 0 ) | RetrievePanelEvents ( ) ;","Panel ( 0 ) | SetPanelView ( \"visualization\" , \"%7B%22type%22%3A%22echarts%22%7D\" ) ;","Panel ( 0 ) | SetPanelView ( \"federate-view\" , \"%7B%22app_id%22%3A%22fd5c8fbb-8f7b-4b71-901c-3e45c166bdab%22%7D\" ) ;","AddPanel ( 0 ) ;","Panel ( 0 ) | AddPanelEvents ( { \"onSingleClick\" : { \"Unfilter\" : [ { \"panel\" : \"\" , \"query\" : \"UnfilterFrame(%3CSelectedColumn%3E)%3B\" , \"options\" : { } , \"refresh\" : false , \"default\" : true , \"disabledVisuals\" : [ \"Grid\" , \"Sunburst\" ] , \"disabled\" : false } ] } , \"onBrush\" : { \"Filter\" : [ { \"panel\" : \"\" , \"query\" : \"if(IsEmpty(%3CSelectedValues%3E)%2C%20UnfilterFrame(%3CSelectedColumn%3E)%2C%20SetFrameFilter(%3CSelectedColumn%3E%3D%3D%3CSelectedValues%3E))%3B\" , \"options\" : { } , \"refresh\" : false , \"default\" : true , \"disabled\" : false } ] } } ) ;","Panel ( 0 ) | RetrievePanelEvents ( ) ;","Panel ( 0 ) | SetPanelView ( \"visualization\" , \"%7B%22type%22%3A%22echarts%22%7D\" ) ;","Panel ( 0 ) | SetPanelView ( \"federate-view\" , \"%7B%22app_id%22%3A%22NEWSEMOSSAPP%22%7D\" ) ;","CreateFrame ( frameType = [ GRID ] , override = [ true ] ) .as ( [ 'FRAME592747' ] ) ;","Database ( database = [ \"fd5c8fbb-8f7b-4b71-901c-3e45c166bdab\" ] ) | Select ( STATEDATAPIVOTED , STATEDATAPIVOTED__drugdeathrate , STATEDATAPIVOTED__STATE_1 , STATEDATAPIVOTED__STATEABBREVIATION , STATEDATAPIVOTED__YEAR ) .as ( [ STATEDATAPIVOTED , drugdeathrate , STATE_1 , STATEABBREVIATION , YEAR ] ) | Import ( frame = [ FRAME592747 ] ) ;","Panel ( 0 ) | SetPanelView ( \"visualization\" ) ;","Frame ( frame = [ FRAME592747 ] ) | QueryAll ( ) | AutoTaskOptions ( panel = [ \"0\" ] , layout = [ \"Grid\" ] ) | Collect ( 500 ) ;","Panel ( 0 ) | SetPanelView ( \"federate-view\" ) ;","Database ( database = [ \"7ea06ef2-6eb0-49c4-afa3-29a3069c930b\" ] ) | Select ( NATIONALDATAPIVOTED__YEAR , NATIONALDATAPIVOTED__drugdeathrate ) .as ( [ YEAR , national_drugdeathrate ] ) | Merge ( joins = [ ( YEAR , inner.join , NATIONALDATAPIVOTED__YEAR ) ] ) ;","Panel ( 0 ) | SetPanelView ( \"visualization\" ) ;","Frame ( ) | QueryAll ( ) | AutoTaskOptions ( panel = [ \"0\" ] , layout = [ \"Grid\" ] ) | Collect ( 500 ) ;","Panel ( 0 ) | SetPanelView ( \"visualization\" , \"%7B%22type%22%3A%22echarts%22%7D\" ) ;","if ( ( HasDuplicates ( STATEABBREVIATION ) ) , ( Select ( STATEABBREVIATION , Average ( drugdeathrate ) ) .as ( [ STATEABBREVIATION , Averageofdrugdeathrate ] ) | Group ( STATEABBREVIATION ) | With ( Panel ( 0 ) ) | Format ( type = [ 'table' ] ) | TaskOptions ( { \"0\" : { \"layout\" : \"Line\" , \"alignment\" : { \"label\" : [ \"STATEABBREVIATION\" ] , \"value\" : [ \"Averageofdrugdeathrate\" ] , \"tooltip\" : [ ] , \"facet\" : [ ] } } } ) | Collect ( 500 ) ) , ( Select ( STATEABBREVIATION , drugdeathrate ) .as ( [ STATEABBREVIATION , drugdeathrate ] ) | With ( Panel ( 0 ) ) | Format ( type = [ 'table' ] ) | TaskOptions ( { \"0\" : { \"layout\" : \"Line\" , \"alignment\" : { \"label\" : [ \"STATEABBREVIATION\" ] , \"value\" : [ \"drugdeathrate\" ] , \"tooltip\" : [ ] , \"facet\" : [ ] } } } ) | Collect ( 500 ) ) ) ;","if ( ( HasDuplicates ( STATEABBREVIATION ) ) , ( Select ( STATEABBREVIATION , Average ( drugdeathrate ) , Average ( national_drugdeathrate ) ) .as ( [ STATEABBREVIATION , Averageofdrugdeathrate , Averageofnational_drugdeathrate ] ) | Group ( STATEABBREVIATION ) | With ( Panel ( 0 ) ) | Format ( type = [ 'table' ] ) | TaskOptions ( { \"0\" : { \"layout\" : \"Line\" , \"alignment\" : { \"label\" : [ \"STATEABBREVIATION\" ] , \"value\" : [ \"Averageofdrugdeathrate\" , \"Averageofnational_drugdeathrate\" ] , \"tooltip\" : [ ] , \"facet\" : [ ] } } } ) | Collect ( 500 ) ) , ( Select ( STATEABBREVIATION , drugdeathrate , national_drugdeathrate ) .as ( [ STATEABBREVIATION , drugdeathrate , national_drugdeathrate ] ) | With ( Panel ( 0 ) ) | Format ( type = [ 'table' ] ) | TaskOptions ( { \"0\" : { \"layout\" : \"Line\" , \"alignment\" : { \"label\" : [ \"STATEABBREVIATION\" ] , \"value\" : [ \"drugdeathrate\" , \"national_drugdeathrate\" ] , \"tooltip\" : [ ] , \"facet\" : [ ] } } } ) | Collect ( 500 ) ) ) ;","Panel ( 0 ) | UnsortPanel ( ) ;","Frame ( ) | Select ( STATEABBREVIATION , Average ( drugdeathrate ) , Average ( national_drugdeathrate ) ) .as ( [ STATEABBREVIATION , Averageofdrugdeathrate , Averageofnational_drugdeathrate ] ) | Group ( STATEABBREVIATION ) | Sort ( columns = [ \"Averageofdrugdeathrate\" ] , sort = [ \"desc\" ] ) | With ( Panel ( 0 ) ) | Format ( type = [ 'table' ] ) | TaskOptions ( { \"0\" : { \"layout\" : \"Line\" , \"alignment\" : { \"label\" : [ \"STATEABBREVIATION\" ] , \"value\" : [ \"Averageofdrugdeathrate\" , \"Averageofnational_drugdeathrate\" ] } } } ) | Collect ( 500 ) ;","Panel ( 0 ) | Clone ( 1 ) ;","Panel ( 1 ) | SetPanelView ( \"DashboardFilter\" ) ;","Panel ( 1 ) | AddPanelOrnaments ( { \"dashboardFilter\" : { \"singleSelect\" : \"Multi Select\" , \"viewType\" : \"List\" , \"instances\" : [ \"YEAR\" ] } } ) | RetrievePanelOrnaments ( \"dashboardFilter\" ) ;","Panel ( 0 ) | SetPanelLabel ( \"State Drug Death Rate per 100K Population vs National Average\" ) ;","Panel ( 1 ) | SetPanelLabel ( \"Year Filter\" ) ;","ReplaceFrameFilter ( ( drugdeathrate != [ null ] ) ) ;","ifError ( ( Frame ( ) | Select ( STATEABBREVIATION , Average ( drugdeathrate ) , Average ( national_drugdeathrate ) ) .as ( [ STATEABBREVIATION , Averageofdrugdeathrate , Averageofnational_drugdeathrate ] ) | Sort ( columns = [ \"Averageofdrugdeathrate\" ] , sort = [ \"DESC\" ] ) | Group ( STATEABBREVIATION ) | With ( Panel ( 0 ) ) | Format ( type = [ 'table' ] ) | TaskOptions ( { \"0\" : { \"layout\" : \"Line\" , \"alignment\" : { \"label\" : [ \"STATEABBREVIATION\" ] , \"value\" : [ \"Averageofdrugdeathrate\" , \"Averageofnational_drugdeathrate\" ] } } } ) | Collect ( 500 ) ) , ( true ) ) ;"]}